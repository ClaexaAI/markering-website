# Settings for Backend (on Cloud Run).
# See https://firebase.google.com/docs/app-hosting/configure#cloud-run
runConfig:
  minInstances: 0
  maxInstances: 2
  concurrency: 150
  cpu: 1
  memoryMiB: 512

  # Environment variables and secrets.
  env:
    # Configure environment variables.
    # See https://firebase.google.com/docs/app-hosting/configure#user-defined-environment
    - variable: NEXT_PUBLIC_POSTHOG_HOST
      value: https://us.i.posthog.com
      availability:
        - BUILD
        - RUNTIME

    - variable: NEXT_PUBLIC_POSTHOG_KEY
      value: phc_XTqbO8P7D4DfCaLESOrfR3O9L29PiFknKS4myyVhECH
      availability:
        - BUILD
        - RUNTIME

    # Grant access to secrets in Cloud Secret Manager.
    # See https://firebase.google.com/docs/app-hosting/configure#secret-parameters
    # - variable: MY_SECRET
    #   secret: mySecretRef
